<app-home></app-home>
<div class="row">
    <div class="col-md-2 col-sm-2 col-2"></div>
    <div class="col-md-8 col-sm-8 col-8">
        <ng-container *ngIf="mensaje">
        <div class='alert alert-success'>
            {{ mensajecontent }}
         </div>
        </ng-container>
        <form [formGroup]="myForm" (ngSubmit)="save()" autocomplete="off">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-6">
                        <div class="form-group">
                            <label>Nombre</label>
                            <input type="text" 
                            class="form-control" 
                            placeholder=""
                            formControlName="name">
                        </div>
                        <span *ngIf="myForm.controls['name'].getError('required') && myForm.controls['name'].touched" >
                            <b style="color: red;">Este campo es requerido</b>
                       </span>
                    </div>
                    <div class="col-md-6 col-sm-6 col-6">
                        <div class="form-group">
                            <label>correo</label>
                            <input type="email"
                             class="form-control"
                              placeholder=""
                              formControlName="email">
                        </div>
                        <span *ngIf="myForm.controls['email'].getError('required') && myForm.controls['email'].touched" >
                            <b style="color: red;">Este campo es requerido</b>
                       </span>
                       <span  *ngIf="myForm.controls['email'].getError('minlength') && myForm.controls['email'].touched">
                           <b style="color: red;">Este campo requiere mínimo 3 letras </b>
                       </span>
                       <span  *ngIf="myForm.controls['email'].getError('email') && myForm.controls['email'].touched">
                           <b style="color: red;">Campo no es de tipo email</b>
                       </span>
                       <span  *ngIf="myForm.controls['email'].getError('emailTaken') && myForm.controls['email'].touched">
                           <b style="color: red;">Este usuario ya existe</b>
                       </span>
                    </div>
                    <div class="col-md-6 col-sm-6 col-6">
                        <div class="form-group">
                            <label>Contraseña</label>
                            <input type="password"
                             class="form-control"
                              placeholder=""
                              formControlName="password">
                        </div>
                        <span *ngIf="myForm.controls['password'].getError('required') && myForm.controls['password'].touched" >
                            <b style="color: red;">Este campo es requerido</b>
                       </span>
                    </div>
                    <div class="col-md-6 col-sm-6 col-6">
                        <div class="form-group">
                            <label>Foto</label>
                            <input type="file" 
                            class="form-control" 
                            placeholder=""
                            formControlName="fotoUser"
                            (change)="getFile($event)">
                        </div>
                        <span *ngIf="myForm.controls['fotoUser'].getError('required') && myForm.controls['fotoUser'].touched" >
                            <b style="color: red;">Este campo es requerido</b>
                       </span>
                    </div>
                </div>
                <div class="card-footer">
                    <br>
                    <ng-container *ngIf="loading">
                        <b>Guardando usuario</b>
                      </ng-container>
                      <ng-container *ngIf="!loading">
                        <!-- <b>Cargando</b> -->
                        <button class="btn btn-primary">Registrar</button>
                      </ng-container>
                     
                </div>
            </div>
        </form>
    </div>
    <div class="col-md-2 col-sm-2 col-2"></div>
</div>
<!-- <br>
<h2>Form Valid: {{ myForm.valid }}</h2><br>
<h2>Form Status: {{ myForm.status }}</h2>
<h2>Form Pending: {{ myForm.pending }}</h2>
<h5>Email</h5>
<pre>{{  myForm.controls['email'].errors  | json }}</pre> -->